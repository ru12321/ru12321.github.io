<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/tech/ops/Docker.html"><meta property="og:site_name" content="Mr.Ru"><meta property="og:title" content="docker"><meta property="og:description" content="教程网址 命令大全 https://blog.csdn.net/anqixiang/article/details/114001509 Docker中文文档https://vuepress.mirror.docker-practice.com/basic_concept/container/"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-27T01:05:52.000Z"><meta property="article:published_time" content="2023-03-27T00:00:00.000Z"><meta property="article:modified_time" content="2023-03-27T01:05:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"docker","image":[""],"datePublished":"2023-03-27T00:00:00.000Z","dateModified":"2023-03-27T01:05:52.000Z","author":[]}</script><title>docker | Mr.Ru</title><meta name="description" content="教程网址 命令大全 https://blog.csdn.net/anqixiang/article/details/114001509 Docker中文文档https://vuepress.mirror.docker-practice.com/basic_concept/container/">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-1809fc2c.css" as="style"><link rel="stylesheet" href="/assets/style-1809fc2c.css">
    <link rel="modulepreload" href="/assets/app-2da356d2.js"><link rel="modulepreload" href="/assets/framework-715d567f.js"><link rel="modulepreload" href="/assets/Docker.html-e82c98f3.js"><link rel="modulepreload" href="/assets/Docker.html-b1c1a87d.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Mr.Ru"><!----><span class="site-name hide-in-pad">Mr.Ru</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/tech/" class="nav-link active" aria-label="技术学习"><span class="font-icon icon iconfont icon-software" style=""></span>技术学习<!----></a></div><div class="nav-item hide-in-mobile"><a href="/book/" class="nav-link" aria-label="书籍阅读"><span class="font-icon icon iconfont icon-read" style=""></span>书籍阅读<!----></a></div><div class="nav-item hide-in-mobile"><a href="/essay/" class="nav-link" aria-label="个人随笔"><span class="font-icon icon iconfont icon-leaf" style=""></span>个人随笔<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="网站相关"><span class="title"><span class="font-icon icon iconfont icon-profile" style=""></span>网站相关</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/about_me/" class="nav-link" aria-label="关于作者"><span class="font-icon icon iconfont icon-like" style=""></span>关于作者<!----></a></li><li class="dropdown-item"><a href="/timeline/" class="nav-link" aria-label="更新历史"><span class="font-icon icon iconfont icon-time" style=""></span>更新历史<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/ru12321" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">搜索</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">java语言</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-hot" style=""></span><span class="title">spring框架</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-build" style=""></span><span class="title">部署运维</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/tech/ops/Docker.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="docker"><!---->docker<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#教程网址" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="教程网址"><!---->教程网址<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_1-什么是docker" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.什么是docker"><!---->1.什么是docker<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_2-为什么用docker" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.为什么用docker"><!---->2.为什么用docker<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_3-docker隔离原理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.docker隔离原理"><!---->3.docker隔离原理<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_1-进程隔离" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.进程隔离"><!---->1.进程隔离<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_2-文件系统隔离" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.文件系统隔离"><!---->2.文件系统隔离<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_3-网络协议栈隔离" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.网络协议栈隔离"><!---->3.网络协议栈隔离<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_4-docker组成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.docker组成"><!---->4.docker组成<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#镜像-images" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="镜像(Images)"><!---->镜像(Images)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#容器-container" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="容器(Container)"><!---->容器(Container)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#镜像仓库-registry" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="镜像仓库(Registry)"><!---->镜像仓库(Registry)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_5-全局命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.全局命令"><!---->5.全局命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_6-镜像命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.镜像命令"><!---->6.镜像命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_7-容器命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.容器命令"><!---->7.容器命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_8-数据卷" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.数据卷"><!---->8.数据卷<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#基础" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="基础"><!---->基础<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#高级" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="高级"><!---->高级<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_9-网络配置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9.网络配置"><!---->9.网络配置<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#默认网桥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="默认网桥"><!---->默认网桥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#自定义网桥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自定义网桥"><!---->自定义网桥<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#_10-dockerfile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10.Dockerfile"><!---->10.Dockerfile<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#构建镜像流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="构建镜像流程"><!---->构建镜像流程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#dockerfile指令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockerfile指令"><!---->Dockerfile指令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tech/ops/Docker.html#构建过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="构建过程"><!---->构建过程<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-hot" style=""></span><span class="title">系统设计</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->docker</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/ru12321" target="_blank" rel="noopener noreferrer">Mr.Ru</a></span><span property="author" content="Mr.Ru"></span></span><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-03-27T00:00:00.000Z"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category2 clickable" role="navigation">docker &amp;&amp; k8s</span><meta property="articleSection" content="docker &amp;&amp; k8s"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 22 分钟</span><meta property="timeRequired" content="PT22M"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 6699 字</span><meta property="wordCount" content="6699"></span><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" id="ArtalkPV" data-path="/tech/ops/Docker.html">...</span></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#教程网址" class="router-link-active router-link-exact-active toc-link level2">教程网址</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_1-什么是docker" class="router-link-active router-link-exact-active toc-link level2">1.什么是docker</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_2-为什么用docker" class="router-link-active router-link-exact-active toc-link level2">2.为什么用docker</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_3-docker隔离原理" class="router-link-active router-link-exact-active toc-link level2">3.docker隔离原理</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_1-进程隔离" class="router-link-active router-link-exact-active toc-link level3">1.进程隔离</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_2-文件系统隔离" class="router-link-active router-link-exact-active toc-link level3">2.文件系统隔离</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_3-网络协议栈隔离" class="router-link-active router-link-exact-active toc-link level3">3.网络协议栈隔离</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_4-docker组成" class="router-link-active router-link-exact-active toc-link level2">4.docker组成</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#镜像-images" class="router-link-active router-link-exact-active toc-link level3">镜像(Images)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#容器-container" class="router-link-active router-link-exact-active toc-link level3">容器(Container)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#镜像仓库-registry" class="router-link-active router-link-exact-active toc-link level3">镜像仓库(Registry)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_5-全局命令" class="router-link-active router-link-exact-active toc-link level2">5.全局命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_6-镜像命令" class="router-link-active router-link-exact-active toc-link level2">6.镜像命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_7-容器命令" class="router-link-active router-link-exact-active toc-link level2">7.容器命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_8-数据卷" class="router-link-active router-link-exact-active toc-link level2">8.数据卷</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#基础" class="router-link-active router-link-exact-active toc-link level3">基础</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#高级" class="router-link-active router-link-exact-active toc-link level3">高级</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_9-网络配置" class="router-link-active router-link-exact-active toc-link level2">9.网络配置</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#默认网桥" class="router-link-active router-link-exact-active toc-link level3">默认网桥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#自定义网桥" class="router-link-active router-link-exact-active toc-link level3">自定义网桥</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#_10-dockerfile" class="router-link-active router-link-exact-active toc-link level2">10.Dockerfile</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#构建镜像流程" class="router-link-active router-link-exact-active toc-link level3">构建镜像流程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#dockerfile指令" class="router-link-active router-link-exact-active toc-link level3">Dockerfile指令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tech/ops/Docker.html#构建过程" class="router-link-active router-link-exact-active toc-link level3">构建过程</a></li><!----><!--]--></ul><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="教程网址" tabindex="-1"><a class="header-anchor" href="#教程网址" aria-hidden="true">#</a> 教程网址</h2><p>命令大全 <a href="https://blog.csdn.net/anqixiang/article/details/114001509" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/anqixiang/article/details/114001509<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Docker中文文档<a href="https://vuepress.mirror.docker-practice.com/basic_concept/container/" target="_blank" rel="noopener noreferrer">https://vuepress.mirror.docker-practice.com/basic_concept/container/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_1-什么是docker" tabindex="-1"><a class="header-anchor" href="#_1-什么是docker" aria-hidden="true">#</a> 1.什么是docker</h2><p>Docker 是使用最广泛的开源容器引擎，它彻底释放了计算虚拟化的威力，极大提高了应用的运行效率，降低了云计算资源供应的成本！ 使用 Docker，可以让应用的部署、测试和分发都变得前所未有的高效和轻松！</p><p>Docker 使用 <strong>Google 公司推出的 Go 语言</strong> 进行开发实现，基于 Linux 内核的 cgroup，namespace，以及 AUFS 类的 Union FS 等技术，对进程进行封装隔离，属于操作系统层面的虚拟化技术。<strong>由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。</strong></p><p><mark>Docker 在容器的基础上，进行了进一步的封装，从文件系统、网络互联到进程隔离等等，极大的简化了容器的创建和维护。使得 Docker 技术比虚拟机技术更为轻便、快捷。</mark></p><h2 id="_2-为什么用docker" tabindex="-1"><a class="header-anchor" href="#_2-为什么用docker" aria-hidden="true">#</a> 2.为什么用docker</h2><p>① 更高效的利用系统资源：由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，Docker 对系统资源的利用率更高。</p><p>② 更快速的启动时间：Docker 容器应用，由于直接运行于宿主内核，无需启动完整的操作系统，因此可以做到秒级、甚至毫秒级的启动时间。</p><p>③ 一致的运行环境：Docker 的镜像提供了除内核外完整的运行时环境，<strong>确保了应用运行环境一致性</strong>。</p><p>④ 持续交付和部署：使用 Docker 可以通过定制应用镜像来实现持续集成、持续交付、部署。一次创建或配置，可以在任意地方正常运行。</p><p>⑤ 更轻松的迁移：Docker 确保了执行环境的一致性，使得应用的迁移更加容易。Docker 可以在很多平台上运行，无论是物理机、虚拟机、公有云、私有云，甚至是笔记本，其运行结果是一致的。</p><h2 id="_3-docker隔离原理" tabindex="-1"><a class="header-anchor" href="#_3-docker隔离原理" aria-hidden="true">#</a> 3.docker隔离原理</h2><p><a href="https://zhuanlan.zhihu.com/p/519499603" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/519499603<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><mark>容器是一种对进程进行隔离的运行环境</mark></p><p>一个容器进程本质上是一个运行在沙盒中的隔离进程，由Linux系统本身负责隔离，Docker只是提供了一系列工具，帮助我们设置好隔离环境后，启动这个进程。</p><h3 id="_1-进程隔离" tabindex="-1"><a class="header-anchor" href="#_1-进程隔离" aria-hidden="true">#</a> 1.进程隔离</h3><p>最基本的隔离就是进程之间看不到彼此，这是由<strong>Linux的Cgroup机制</strong>实现的。进程隔离的结果就是<strong>以隔离方式启动的进程看到的自身进程ID总是1，且看不到系统的其他进程</strong>。</p><h3 id="_2-文件系统隔离" tabindex="-1"><a class="header-anchor" href="#_2-文件系统隔离" aria-hidden="true">#</a> 2.文件系统隔离</h3><p>Docker利用<strong>Linux的mount机制</strong>，<strong>给每个隔离进程挂载了一个虚拟的文件系统</strong>，使得一个隔离进程只能访问这个虚拟的文件系统，无法看到系统真实的文件系统。至于这个虚拟的文件系统应该长什么样，这就是制作Docker镜像要考虑的问题。比如我们的Python程序要正常运行，需要一个Python3解释器，需要把用到的第三方库如<code>psutil</code>引入进来，这些复杂的工作被简化为一个<code>Dockerfile</code>，再由Docker把这些运行时的依赖打包，就形成了Docker镜像。我们可以把一个Docker镜像看作一个zip包，每启动一个进程，Docker都会自动解压zip包，把它变成一个虚拟的文件系统。</p><h3 id="_3-网络协议栈隔离" tabindex="-1"><a class="header-anchor" href="#_3-网络协议栈隔离" aria-hidden="true">#</a> 3.网络协议栈隔离</h3><p>我们举个例子：在Docker中运行<code>docker run redis:latest</code>，然后在宿主机上写个程序连接<code>127.0.0.1:6379</code>，是无法连接到Redis的，因为Redis虽然监听<code>127.0.0.1:6379</code>这个端口，但Linux可以为进程隔离网络，Docker默认启动的Redis进程拥有自己的网络名字空间，与宿主机不同：</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201501619.webp" alt="img" loading="lazy"></p><p>要让宿主机访问到Redis，可以用<code>-p 6379:6379</code>把Redis进程的端口号映射到宿主机，从而在宿主机上访问Redis：</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201501660.webp" alt="img" loading="lazy"></p><p>因此，在Linux的网络名字空间隔离下，Redis进程和宿主机进程看到的IP地址<code>127.0.0.1</code>表面上一样，但实际上是不同的网络接口。</p><p>我们再看一个更复杂的例子。如果我们要运行ZooKeeper和Kafka，先启动ZooKeeper：</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code>docker run -p 2181<span class="token punctuation">:</span>2181 <span class="token property">zookeeper</span><span class="token punctuation">:</span>latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再启动Kafka，发现Kafka是无法连接ZooKeeper的，原因是，Kafka试图连接的<code>127.0.0.1:2181</code>在它自己的网络接口上并不存在：</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201501077.webp" alt="img" loading="lazy"></p><p>必须连接到ZooKeeper的<code>IP:2181</code>或者宿主机的<code>IP:2181</code>。直接指定IP并不是一个好的方式，我们应该利用Docker Compose，把ZooKeeper和Kafka运行在同一个网络名字空间里，并通过<code>zookeeper:2181</code>来访问ZooKeeper端口，让Docker自动把zookeeper名字解析为动态分配的IP地址。</p><h2 id="_4-docker组成" tabindex="-1"><a class="header-anchor" href="#_4-docker组成" aria-hidden="true">#</a> 4.docker组成</h2><h3 id="镜像-images" tabindex="-1"><a class="header-anchor" href="#镜像-images" aria-hidden="true">#</a> 镜像(Images)</h3><p>Docker 镜像是一个特殊的文件系统，除了<strong>提供容器运行时所需的程序、库、资源、配置</strong>等文件外，还包含了一些<strong>为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）</strong>。镜像不包含任何动态数据，其内容在构建之后也不会被改变。</p><p>Docker 设计时，充分利用 Union FS 的技术，将其设计为分层存储的架构，Docker 镜像由多层文件系统联合组成。镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层。</p><hr><h4 id="docker的镜像原理" tabindex="-1"><a class="header-anchor" href="#docker的镜像原理" aria-hidden="true">#</a> docker的镜像原理</h4><h4 id="镜像是什么" tabindex="-1"><a class="header-anchor" href="#镜像是什么" aria-hidden="true">#</a> 镜像是什么？</h4><blockquote><p>镜像是一种轻量级的，可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它包含运行某个软件所需的所有内容，包括代码、运行时所需的库、环境变量和配置文件。</p></blockquote><h4 id="为什么一个镜像会那么大" tabindex="-1"><a class="header-anchor" href="#为什么一个镜像会那么大" aria-hidden="true">#</a> 为什么一个镜像会那么大？</h4><p><code>镜像就是花卷</code></p><ul><li><p>UnionFS（联合文件系统）:</p><p>Union文件系统是一种分层，轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下。Union文件系统是Docker镜像的基础。这种文件系统特性:就是一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文件系统会包含所有底层的文件和目录 。</p></li></ul><h4 id="docker镜像原理" tabindex="-1"><a class="header-anchor" href="#docker镜像原理" aria-hidden="true">#</a> Docker镜像原理</h4><blockquote><p><code>docker的镜像实际是由一层一层的文件系统组成。</code></p></blockquote><ul><li><p>bootfs（boot file system）主要包含bootloader和kernel，bootloader主要是引导加载kernel，Linux刚启动时会加载bootfs文件系统。在docker镜像的最底层就是bootfs。这一层与Linux/Unix 系统是一样的，包含boot加载器（bootloader）和内核（kernel）。当boot加载完,后整个内核就都在内存中了，此时内存的使用权已由bootfs转交给内核，此时会卸载bootfs。</p></li><li><p>rootfs（root file system），在bootfs之上，包含的就是典型的linux系统中的/dev，/proc，/bin，/etc等标准的目录和文件。rootfs就是各种不同的操作系统发行版，比如Ubuntu/CentOS等等。</p></li><li><p>我们平时安装进虚拟机的centos都有1到几个GB，为什么docker这里才200MB？对于一个精简的OS，rootfs可以很小，只需要包括最基本的命令，工具，和程序库就可以了，因为底层直接使用Host的Kernal，自己只需要提供rootfs就行了。由此可见不同的linux发行版，他们的bootfs是一致的，rootfs会有差别。<strong>因此不同的发行版可以共用bootfs。</strong></p></li></ul><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201501323.png" alt="image-20221228104808238" loading="lazy"></p><h4 id="为什么docker镜像要采用这种分层结构呢" tabindex="-1"><a class="header-anchor" href="#为什么docker镜像要采用这种分层结构呢" aria-hidden="true">#</a> 为什么docker镜像要采用这种分层结构呢?</h4><blockquote><p><code>最大的一个好处就是资源共享</code></p></blockquote><p>比如：<strong>有多个镜像都是从相同的base镜像构建而来的，那么宿主机只需在磁盘中保存一份base镜像。同时内存中也只需要加载一份base镜像，就可以为所有容器服务了。而且镜像的每一层都可以被共享</strong>。Docker镜像都是只读的。当容器启动时，一个新的可写层被加载到镜像的顶部。这一层通常被称为容器层，容器层之下都叫镜像层。</p><h3 id="容器-container" tabindex="-1"><a class="header-anchor" href="#容器-container" aria-hidden="true">#</a> 容器(Container)</h3><p>镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的 类 和 实例 一样，<strong>镜像是静态的定义，容器是镜像运行时的实体</strong>。容器可以被创建、启动、停止、删除、暂停等。</p><p><strong>容器的实质是进程</strong>，但与直接在宿主执行的进程不同，<strong>容器进程运行于属于自己的独立的 命名空间</strong>。因此容器可以拥有自己的 root 文件系统、自己的网络配置、自己的进程空间，甚至自己的用户 ID 空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作一样。</p><p><mark>每一个容器运行时，是以镜像为基础层，在其上创建一个当前容器的存储层</mark>，我们可以称这个为容器运行时读写而准备的存储层为<mark>容器存储层</mark>。容器存储层的生存周期和容器一样，容器消亡时，容器存储层也随之消亡。因此，任何保存于容器存储层的信息都会随容器删除而丢失。 按照 Docker 最佳实践的要求，<strong>容器不应该向其存储层内写入任何数据，容器存储层要保持无状态化</strong>。所有的文件写入操作，都应该<mark>使用 数据卷（Volume）、或者绑定宿主目录，在这些位置的读写会跳过容器存储层</mark>，直接对宿主(或网络存储)发生读写，其性能和稳定性更高。</p><p><strong>数据卷的生存周期独立于容器，容器消亡，数据卷不会消亡。因此，使用数据卷后，容器可以随意删除、重新 run ，数据却不会丢失。</strong></p><h3 id="镜像仓库-registry" tabindex="-1"><a class="header-anchor" href="#镜像仓库-registry" aria-hidden="true">#</a> 镜像仓库(Registry)</h3><p>镜像仓库是一个集中的存储、分发镜像的服务。一个 Docker Registry 中可以包含多个仓库（Repository）；每个仓库可以包含多个标签（Tag）；每个标签对应一个镜像。 通常，<strong>一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本</strong>。我们可以通过 <code>&lt;仓库名&gt;:&lt;标签&gt; </code>的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以 <code>latest</code> 作为默认标签。</p><p>最常使用的 Registry 公开服务是官方的 Docker Hub，这也是默认的 Registry，并拥有大量的高质量的官方镜像。用户还可以在本地搭建私有 Docker Registry。Docker 官方提供了 Docker Registry 镜像，可以直接使用做为私有 Registry 服务。</p><h2 id="_5-全局命令" tabindex="-1"><a class="header-anchor" href="#_5-全局命令" aria-hidden="true">#</a> 5.全局命令</h2><p><code>service docker start</code>：wsl2启动docker： （必须在root下！ sudo su -）</p><p><code>docker -v</code> ：查看docker版本</p><p><code>docker info</code> : 显示 Docker 系统信息，包括镜像和容器数</p><p><code>docker login --username=zhangb-l@bimcop registry.cn-beijing.aliyuncs.com</code> 设置登录公司镜像</p><p>密码 glodonUser123!@#</p><h2 id="_6-镜像命令" tabindex="-1"><a class="header-anchor" href="#_6-镜像命令" aria-hidden="true">#</a> 6.镜像命令</h2><p><code>docker image ls tomcat</code> 根据仓库名列出部分镜像</p><p><code>docker images</code> 查看本地所有镜像</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>虚悬镜像:这个镜像既没有仓库名，也没有标签，均为 &lt;none&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>docker images -q</code> 查看本地镜像的所有镜像id</p><p><code>docker load -i nginx.tar</code> 导入nginx镜像，-i就是input</p><p><code>docker load &lt; nginx.tar</code> 导入nginx镜像</p><p><code>docker login -u 用户名 -p密码 镜像仓库地址</code> 登录镜像仓库</p><p><code>docker push 镜像仓库地址/镜像名:Tag</code> 推送镜像到远程镜像仓库</p><p><code>docker rmi 镜像名[:Tag]</code> 删除镜像</p><p><code>docker rmi 镜像ID</code> 删除镜像</p><p><code>docker rmi -f 镜像ID</code> 强制删除镜像（如果容器已经启动则需先停止后方可删除）</p><p><code>docker rmi -f $(docker images -aq)</code> 批量删除所有镜像（$后作为参数传递）</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>1.实际上是在要求删除某个标签的镜像
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>docker save 镜像名:Tag &gt; 镜像名-tag.tar</code> 把镜像打成一个tar包（推荐tar包命名为镜像名-tag），-o代表output</p><p><code>docker save 镜像名:Tag -o 镜像名-tag.tar</code> 把镜像打成一个tar包</p><p><code>docker search 镜像名[:Tag]</code> 搜索镜像，默认从dockerhub搜索</p><p><code>docker system df</code>查看镜像、容器、数据卷所占用的空间</p><p><code>docker system prune -a</code> 删除没有任何容器使用的镜像、构建缓存</p><p><code>docker pull 镜像名[:Tag]</code> 下载镜像；不指定Tag，默认为latest</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>docker pull [选项] [Docker Registry 地址[:端口号]/]仓库名[:标签]
    Docker 镜像仓库地址：地址的格式一般是 &lt;域名/IP&gt;[:端口号]。默认地址是 Docker Hub(docker.io)
    仓库名：如之前所说，这里的仓库名是两段式名称，即 &lt;用户名&gt;/&lt;软件名&gt;。对于 Docker Hub，如果不给出用户名，则默认为 library，也就是官方镜像

例子：
   docker pull ubuntu:18.04
              等价于 
   docker pull docker.io/library/ubuntu:18.04
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker tag 镜像名:Tag</code> 给镜像打Tag</p><h2 id="_7-容器命令" tabindex="-1"><a class="header-anchor" href="#_7-容器命令" aria-hidden="true">#</a> 7.容器命令</h2><ul><li>每一个容器都是一个精简版的linux系统，里面运行着一个服务</li></ul><hr><p><code>docker ps</code> 查看正在运行的容器</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>CONTAINER ID		容器ID，在同一宿主机上是唯一的
IMAGE				说明容器是用哪个镜像起的
COMMAND				容器启动后执行的第一个shell命令
CREATED				容器已创建了多久
STATUS				容器在Up状态持续的时间
PORTS				容器默认开放的端口，在Dockfile中通过EXPOSE指定
NAMES				容器名字，具有唯一性 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker ps -a</code> 查看所有容器</p><p><code>docker ps -q</code> 返回正在运行容器id</p><p><code>docker ps -aq</code> 返回所有容器id</p><p><code>docker run -d -p 8081:8080 --name=tomcat_ruyb tomcat:8.0</code> 启动容器</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>-d				后台运行服务
-p 8081:8080	端口映射，宿主机的8081端口映射到容器内服务的8080端口	
--name			指定服务名称（不能重复）
-it             运行时直接进入容器，比如centos镜像系统
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker stop 容器名或容器id</code> 正常停止容器运行</p><p><code>docker kill 容器名或容器id</code> 立即停止容器运行</p><p><code>docker rm 容器名或容器id</code> 删除容器</p><p><code>docker rm -f 容器名</code> 强制删除容器，可以删除运行中的容器</p><p><code>docker exec -it 容器ID bash</code> 进入容器，并分配一个新的终端</p><p><code>docker top 容器名或容器id</code> 查看容器内的进程</p><p><code>docker inspect 容器名或容器id</code> 查看容器细节（WorkingDir工作目录、ip地址）</p><p><code>exit</code> 退出容器</p><p><code>docker cp /etc/hosts 容器名或容器id:/opt</code> 拷贝宿主机的hosts文件到容器的/opt目录下</p><p><code>docker cp 容器名或容器id:/opt/a.sh /tmp</code> 拷贝容器的a.sh文件到宿主机的/tmp路径下</p><p><code>docker logs 容器名</code> 查看容器日志</p><p><code>docker logs -f 容器名</code> 实时查看容器日志</p><p><code>docker commit 容器名或容器id 镜像名:版本</code> 将当前容器打包成一个新的镜像</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>-m &quot;描述信息&quot; 
-a &quot;作者信息&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-数据卷" tabindex="-1"><a class="header-anchor" href="#_8-数据卷" aria-hidden="true">#</a> 8.数据卷</h2><h3 id="基础" tabindex="-1"><a class="header-anchor" href="#基础" aria-hidden="true">#</a> 基础</h3><p>作用：同来实现<code>容器中数据</code> 和 <code>宿主机中数据</code>进行<mark>文件或目录</mark>的**映射（同步）**的；<strong>持久化容器数据到宿主机上</strong></p><p>注意：数据卷使用必须在<strong>容器首次启动时设置</strong></p><p>应用场景：容器中的服务需要存储数据的，就要使用到数据卷；这样即使docker容器被删除了，那么它里面的<strong>数据还存在于数据卷</strong>中，这样再启动一个容器将数据卷中的数据映射到新容器中，数据也就恢复了。推荐生产一定要使用数据卷！</p><blockquote><p>1.使用绝对路径设置数据卷</p></blockquote><ul><li><p>docker run -v 宿主机绝对路径1:容器内路径1 -v <code>宿主机绝对路径2:容器内路径2</code> 镜像</p><p>注意: 这种方式会<strong>将容器路径的原始内容全部清空,始终以宿主机路径为主</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8082</span>:8080 <span class="token parameter variable">--name</span> tomcat02 <span class="token parameter variable">-v</span> /root/apps/:/usr/local/tomcat/webapps:ro
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ro选项 只能用在容器的路径后面，ro表示宿主机的目录改变只能影响到容器，容器不能影响到宿主机</p></li></ul><blockquote><p>2.使用别名创建</p></blockquote><ul><li>注意：这种创建数据卷的方式会<strong>保留原有容器路径下的内容</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8081</span>:8080 <span class="token parameter variable">--name</span> tomcat01 <span class="token parameter variable">-v</span> aaaa:/usr/local/tomcat/webapps tomcat:8.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>aaaa是docker在宿主机自建的目录，docker自己会创建这个别名并维护</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root@glodon-p1:~<span class="token comment"># find /var -name aaaa</span>
 /var/lib/docker/volumes/aaaa
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="高级" tabindex="-1"><a class="header-anchor" href="#高级" aria-hidden="true">#</a> 高级</h3><p>别名代表一个docker自身维护的数据卷</p><p><code>docker volume ls</code>：查看所有docker维护数据卷</p><p><code>docker inspect 数据卷别名</code> 查看数据卷详细内容</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>docker inspect 命令可以跟多种参数
	- 容器名称
	- 网桥名称
	- 数据卷别名
但是如果其中名称相同时，需要指定查询的是什么类型的，如
docker volume inspect ems
docker network inspect ems
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker volume rm 数据卷别名</code>删除一个数据卷</p><p><code>docker volume create 数据卷别名</code>创建一个数据卷</p><h2 id="_9-网络配置" tabindex="-1"><a class="header-anchor" href="#_9-网络配置" aria-hidden="true">#</a> 9.网络配置</h2><h3 id="默认网桥" tabindex="-1"><a class="header-anchor" href="#默认网桥" aria-hidden="true">#</a> 默认网桥</h3><p>容器间通信：容器之间不可避免存在网络相互通信。</p><p>当 Docker 启动时，会自动在主机上创建一个 <code>docker0</code> <strong>虚拟网桥</strong>，实际上是 Linux 的一个 bridge，可以理解为一个软件交换机。它会在挂载到它的网口之间进行转发。</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502692.png" alt="image-20221228145803100" loading="lazy"></p><ul><li><p>通过宿主机<code>ip a</code>可以查看到</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502704.png" alt="image-20221228145136509" loading="lazy"></p></li></ul><p>同时，Docker 随机分配一个本地未占用的私有网段（在 <a href="https://tools.ietf.org/html/rfc1918" target="_blank" rel="noopener noreferrer">RFC1918<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 中定义）中的一个地址给 <code>docker0</code> 接口。比如典型的 <code>172.17.42.1</code>，掩码为 <code>255.255.0.0</code>。此后启动的容器内的网口也会自动分配一个同一网段（<code>172.17.0.0/16</code>）的地址。</p><p>当创建一个 Docker 容器的时候，同时会创建了一对 <code>veth pair</code> 接口（当数据包发送到一个接口时，另外一个接口也可以收到相同的数据包）。这对接口一端在容器内，即 <code>eth0</code>；另一端在本地并被挂载到 <code>docker0</code> 网桥，名称以 <code>veth</code> 开头（例如 <code>vethAQI2QT</code>）。通过这种方式，主机可以跟容器通信，容器之间也可以相互通信。Docker 就创建了在主机和所有容器之间一个虚拟共享网络（<strong>不需要做额外的处理</strong>）</p><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502019.png" alt="image-20221228144427212" loading="lazy"></p><blockquote><p>总结</p></blockquote><p>1.默认docker在创建容器时将所有容器都连接到docker0网桥上，默认在docker0网桥的容器都可以使用<strong>容器内ip地址</strong>进行通信</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#进入tomcat01容器，对tomcat02容器进行通信访问</span>
root@glodon-p1:~<span class="token comment"># docker exec -it tomcat01 bash</span>
root@5f8e27802f77:/usr/local/tomcat<span class="token comment"># curl http://172.17.0.3:8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.默认docker创建容器时将所有容器都连接到docker0网桥上，默认在docker0网桥的容器都可以使用<strong>容器名称作为容器ip</strong>进行通信，但是注意：使用容器名称<strong>必须自定义网桥</strong>不能使用默认dockero</p><hr><h3 id="自定义网桥" tabindex="-1"><a class="header-anchor" href="#自定义网桥" aria-hidden="true">#</a> 自定义网桥</h3><p>1.docker网桥类型，有三种bridge、host、none</p><ul><li>允许连接到同一网桥网络的容器进行通信，同时提供与未连接到该网桥网络的容器的隔离</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root@glodon-p1:/<span class="token comment"># docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
daf4e6a263a3   bridge    bridge    <span class="token builtin class-name">local</span>
3fb3be082705   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
a5a612bdf0dc   none      null      <span class="token builtin class-name">local</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.查看网络 <code>docker network ls</code></p><p>3.查看某网络细节<code>docker network inspect 网络名称</code></p><ul><li>在自定义网络创建容器前</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root@glodon-p1:/<span class="token comment"># docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
daf4e6a263a3   bridge    bridge    <span class="token builtin class-name">local</span>
3fb3be082705   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
b10c10f01429   n-ruyb    bridge    <span class="token builtin class-name">local</span>
a5a612bdf0dc   none      null      <span class="token builtin class-name">local</span>
root@glodon-p1:/<span class="token comment"># docker network inspect n-ruyb</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;n-ruyb&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b10c10f01429dea1dcb730e01457ed0b61ab6dc11d064180c3cd78995f64d8db&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-12-28T17:58:51.608529755+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
root@glodon-p1:/<span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在自定义网络创建容器两个容器后：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root@glodon-p1:/<span class="token comment"># docker network inspect n-ruyb</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;n-ruyb&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b10c10f01429dea1dcb730e01457ed0b61ab6dc11d064180c3cd78995f64d8db&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-12-28T17:58:51.608529755+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;759dc488ad730d07c0bd8cf436b8393599d3c610688084aa1a676406ef735783&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;tomcat02&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;34948c6cdc2dcb081a6a7f9f083c824d2d435b1fde4b9590017e5ddad144db30&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:12:00:03&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.3/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;9780c45385c0479f932f00c099f233d98bcf7c2a7cc32c172e599b3567b03083&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;tomcat01&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8b067f0bf2ffaed5221fd0bd9dd804e43152703354f31f60154963479cee1e52&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:12:00:02&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.2/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
root@glodon-p1:/<span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.删除一个网络</p><p><code>docker network rm 网络名称</code></p><p><code>docker network prune</code> 删除所有未被用到网络</p><p><strong>5.创建自定义网桥</strong></p><p><code>docker network create 网络名称</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8081</span>:8080 <span class="token parameter variable">--name</span> tomcat02 <span class="token parameter variable">--network</span> n-ruyb tomcat:8.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>自定义网桥后就可以通过名称来访问容器</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root@glodon-p1:/<span class="token comment"># docker exec -it tomcat02 bash</span>
<span class="token comment">#访问tomcat01的地址 获得默认的jsp页面代码</span>
root@759dc488ad73:/usr/local/tomcat<span class="token comment"># curl http://tomcat01:8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>6.运行多个容器在指定网络中</strong></p><p>a.启动容器时明确指定容器使用那个网络</p><p><code>docker run -d --network 网络名称</code></p><p>b.启动之后容器加入到某个网络中</p><p><code>docker network connect 网络名 容器id(name)</code></p><h2 id="_10-dockerfile" tabindex="-1"><a class="header-anchor" href="#_10-dockerfile" aria-hidden="true">#</a> 10.Dockerfile</h2><blockquote><p>注意D大写f小写，是Dockerfile而不是dockerFile</p></blockquote><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502003.png" alt="image-20230108154217367" loading="lazy"></p><p>1.概念：Dockerfile可以认为是<strong>Docker镜像的描述文件，是由一系列命令和参数构成的脚本</strong>。</p><p>2.作用：<strong>用来构建docker镜像的构建文件</strong>。</p><p>3.如何构建自己的镜像</p><p>​ a.在指定位置创建Dockerfile文件。编写dockerfile相关语法</p><p>​ b.通过Dockerfile构建镜像。<code>docker build -t aa:1.0 . </code>(.用来指定Dockerfile文件所在位置)</p><h3 id="构建镜像流程" tabindex="-1"><a class="header-anchor" href="#构建镜像流程" aria-hidden="true">#</a> 构建镜像流程</h3><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502335.png" alt="image-20230108154417283" loading="lazy"></p><ul><li><p>执行build命令时，会将<strong>Dockerfile的上下文</strong>目录中<code>所有文件</code>都发给Server引擎；也可以写<code>.dockerIgnore</code>文件去选择发送哪些文件；</p></li><li><p>Dockerfile要求一行只有存在一条完整命令；</p></li><li><p>Server引擎会根据第一行命令，构建出一个临时镜像；第二天指令，在第一个临时镜像再构建一个临时镜像，最终生成一个最终镜像（这个镜像Id就是通过docker images看到的）；</p></li><li><p>Docker使用缓存存下这些临时镜像，方便后续相同命令直接获取；</p></li></ul><h3 id="dockerfile指令" tabindex="-1"><a class="header-anchor" href="#dockerfile指令" aria-hidden="true">#</a> Dockerfile指令</h3><p>官方说明:<a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/reference/builder/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>1.每条保留字指令都必须为大写，且后面都要跟至少一个参数
2.指令按照从上到下，顺序执行
3.#表示注释
4.每条指令都会创建一个新的镜像层，并对镜像进行提交
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>保留字</th><th>作用</th></tr></thead><tbody><tr><td><strong>FROM</strong></td><td><strong>当前镜像是基于哪个镜像的</strong> <code>第一个指令必须是FROM</code></td></tr><tr><td>MAINTAINER</td><td>镜像维护者的姓名和邮箱地址</td></tr><tr><td><strong>RUN</strong></td><td><strong>构建镜像时需要运行的指令</strong></td></tr><tr><td><strong>EXPOSE</strong></td><td><strong>当前容器对外暴露出的端口号</strong></td></tr><tr><td><strong>WORKDIR</strong></td><td><strong>指定在创建容器后，终端默认登录进来的工作目录，一个落脚点</strong></td></tr><tr><td><strong>ENV</strong></td><td><strong>用来在构建镜像过程中设置环境变量</strong></td></tr><tr><td><strong>ADD</strong></td><td><strong>将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar包</strong></td></tr><tr><td><strong>COPY</strong></td><td><strong>类似于ADD，拷贝文件和目录到镜像中<br>将从构建上下文目录中&lt;原路径&gt;的文件/目录复制到新的一层的镜像内的&lt;目标路径&gt;位置</strong></td></tr><tr><td><strong>VOLUME</strong></td><td><strong>容器数据卷，用于数据保存和持久化工作</strong></td></tr><tr><td><strong>CMD</strong></td><td><strong>指定一个容器启动时要运行的命令<br>Dockerfile中可以有多个CMD指令，但只有最后一个生效，CMD会被docker run之后的参数替换</strong></td></tr><tr><td><strong>ENTRYPOINT</strong></td><td><strong>指定一个容器启动时要运行的命令<br>ENTRYPOINT的目的和CMD一样，都是在指定容器启动程序及其参数</strong></td></tr></tbody></table><h3 id="构建过程" tabindex="-1"><a class="header-anchor" href="#构建过程" aria-hidden="true">#</a> 构建过程</h3><p><code>docker build -t 镜像名称:Tag .</code> 构建镜像，指定名称和Tag</p><h4 id="_1-创建dockerfile文件" tabindex="-1"><a class="header-anchor" href="#_1-创建dockerfile文件" aria-hidden="true">#</a> 1.创建Dockerfile文件</h4><p>建议创建一个单独文件夹，创建一个<code>Dockerfile</code>文件，去编写指令</p><p><code>mkdir docker</code></p><p><code>cd docker</code></p><p><code>mv Dockerfile docker/</code></p><p><code>vim Dockerfile</code></p><p>添加指令<code>FROM centos:latest</code>，保存退出</p><h4 id="_2-构建自己的镜像" tabindex="-1"><a class="header-anchor" href="#_2-构建自己的镜像" aria-hidden="true">#</a> 2.构建自己的镜像</h4><p><code>docker build -t ruybos:01 .</code> 注意一定要加上最后的.；</p><p>可以看到，因为Dockerfile中只有一个FROM指令，所以它的最终镜像id和centos一样；</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
ubuntu        18.04     251b86c83674   4 weeks ago     63.1MB
hello-world   latest    feb5d9fea6a5   15 months ago   13.3kB
centos        latest    5d0da3dc9764   15 months ago   231MB
ruybos        01        5d0da3dc9764   15 months ago   231MB
tomcat        8.0       ef6a7c98d192   4 years ago     356MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-给镜像安装vim" tabindex="-1"><a class="header-anchor" href="#_3-给镜像安装vim" aria-hidden="true">#</a> 3.给镜像安装vim</h4><p>RUN命令 在上一步的镜像上执行一些操作</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>ps:因为centos的latest镜像无法安装vim，所以FROM的参数换为centos:centos7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加指令<code>RUN yum install -y vim</code></p><p>构建镜像<code>docker build -t ruybos:02 .</code></p><p>创建容器，验证</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> ruybos:02
<span class="token function">touch</span> r.txt
<span class="token function">vim</span> r.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-expose" tabindex="-1"><a class="header-anchor" href="#_4-expose" aria-hidden="true">#</a> 4.Expose</h4><p>注意：<strong>仅仅是声明</strong></p><p>用来指定构建的镜像在运行为容器时对外暴露的端口</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">EXPOSE</span> 80/tcp  如果没有显示指定则默认暴露都是tcp</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80/udp</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-workdir" tabindex="-1"><a class="header-anchor" href="#_5-workdir" aria-hidden="true">#</a> 5.WORKDIR</h4><p>用来指定构建的镜像在运行为容器时，进入的目录</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /a  #绝对路径</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> b   #相对路径</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-add、copy" tabindex="-1"><a class="header-anchor" href="#_6-add、copy" aria-hidden="true">#</a> 6.ADD、COPY</h4><ul><li><p>用来从context上下文复制新文件、目录或远程文件url，并将它们添加到位于指定路径的映像文件系统中。</p></li><li><p>语法:</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">ADD</span> hom* /mydir/       通配符添加多个文件</span>
<span class="token instruction"><span class="token keyword">ADD</span> hom?.txt /mydir/   通配符添加</span>
<span class="token instruction"><span class="token keyword">ADD</span> test.txt relativeDir/  可以指定相对路径</span>
<span class="token instruction"><span class="token keyword">ADD</span> test.txt /absoluteDir/ 也可以指定绝对路径</span>
<span class="token instruction"><span class="token keyword">ADD</span> url #自动下载url指定的文件</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><ul><li>ADD比COPY多的功能是 可以通过<code>ADD url</code>自动下载文件，添加到镜像的<code>WORKDIR</code>目录下</li></ul><h4 id="_7-env" tabindex="-1"><a class="header-anchor" href="#_7-env" aria-hidden="true">#</a> 7.ENV</h4><p>设置环境变量，方便维护</p><ul><li>指定BASE_PATH常量</li><li>倒数第二个 <code>WORKDIR tomcat-9.0.48</code> 是进入tomcat-9.04.48目录，创建了aa.txt文件</li></ul><p><img src="https://typora-imgbed-mrru.oss-cn-chengdu.aliyuncs.com/ruyb/202303201502584.png" alt="image-20230116151253167" loading="lazy"></p><h4 id="_8-volume" tabindex="-1"><a class="header-anchor" href="#_8-volume" aria-hidden="true">#</a> 8.VOLUME</h4><p>注意：<strong>仅仅是声明</strong></p><p>定义容器运行时可以挂在到宿主机的目录</p><h4 id="_9-cmd和entrypoint" tabindex="-1"><a class="header-anchor" href="#_9-cmd和entrypoint" aria-hidden="true">#</a> 9.CMD和ENTRYPOINT</h4><p>语法1：直接命令方式</p><p><code>java -jar ems.jar</code></p><p>语法2：json数组方式 <strong>推荐</strong></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/ru12321/edit/main/docs/tech/ops/Docker.md" rel="noopener noreferrer" target="_blank" aria-label="在GitHub上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在GitHub上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: ruyb@glodon.com">ruyb</span><!--]--><!--]--></div></div></footer><!----><div class="waline-wrapper" id="comment" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">网址</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="表情" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="预览"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if-->  字</div><!--v-if--><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> 评论</div><ul class="wl-sort"><!--[--><li class="active">按正序</li><li class="">按倒序</li><li class="">按热度</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.14.8</div></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">默认页脚</div><div class="copyright">Copyright © 2023 Mr.Ru</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-2da356d2.js" defer></script>
  </body>
</html>
